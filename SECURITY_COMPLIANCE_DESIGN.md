# K-BANK ë°ì´í„°ê´€ë¦¬ ì†”ë£¨ì…˜ ë³´ì•ˆ ë° ì»´í”Œë¼ì´ì–¸ìŠ¤ ì„¤ê³„ì„œ

**ë²„ì „:** 1.0  
**ì‘ì„±ì¼:** 2025-11-25  
**ê¸°ë°˜:** RFP ë³´ì•ˆ ìš”êµ¬ì‚¬í•­, ê¸ˆìœµê¶Œ ê·œì œ, K-BANK ì •ë³´ë³´í˜¸ ì •ì±…  
**ì¤€ìˆ˜ ê·œì •:** ì „ìê¸ˆìœµê°ë…ê·œì •, ê°œì¸ì •ë³´ë³´í˜¸ë²•, ì‹ ìš©ì •ë³´ë²•

---

## ğŸ“‹ ë³´ì•ˆ ì„¤ê³„ ê°œìš”

### ì„¤ê³„ ëª©ì 
- ì¼€ì´ë±…í¬ ë°ì´í„°ê´€ë¦¬ ì†”ë£¨ì…˜ì˜ ì „ë°©ìœ„ ë³´ì•ˆ ì²´ê³„ êµ¬ì¶•
- ê¸ˆìœµê¶Œ ê·œì œ ë° K-BANK ì •ë³´ë³´í˜¸ ì •ì±… ì™„ì „ ì¤€ìˆ˜
- ê°œì¸ì •ë³´ ë° ì¤‘ìš”ì •ë³´ ë³´í˜¸ë¥¼ ìœ„í•œ ë‹¤ì¸µ ë³´ì•ˆ êµ¬ì¡°
- ë‚´ë¶€ ìœ„í˜‘ê³¼ ì™¸ë¶€ ê³µê²©ì— ëŒ€í•œ ì¢…í•©ì  ë°©ì–´ ì²´ê³„

### ë³´ì•ˆ ëª©í‘œ
1. **ê¸°ë°€ì„± (Confidentiality)**: ì¸ê°€ë˜ì§€ ì•Šì€ ì ‘ê·¼ìœ¼ë¡œë¶€í„° ì •ë³´ ë³´í˜¸
2. **ë¬´ê²°ì„± (Integrity)**: ë°ì´í„°ì˜ ì •í™•ì„± ë° ì™„ì „ì„± ë³´ì¥
3. **ê°€ìš©ì„± (Availability)**: ì„œë¹„ìŠ¤ì˜ ì§€ì†ì  ì œê³µ ë³´ì¥
4. **ì¶”ì ì„± (Accountability)**: ëª¨ë“  ì ‘ê·¼ ë° ë³€ê²½ ì´ë ¥ ì¶”ì 
5. **ë¶€ì¸ë°©ì§€ (Non-repudiation)**: í–‰ìœ„ì— ëŒ€í•œ ë¶€ì¸ ë°©ì§€

### ì¤€ìˆ˜í•´ì•¼ í•  ê·œì •
- **ì „ìê¸ˆìœµê°ë…ê·œì •** (ê¸ˆìœµìœ„ì›íšŒ/ê¸ˆìœµê°ë…ì›)
- **ê°œì¸ì •ë³´ë³´í˜¸ë²•** (ê°œì¸ì •ë³´ë³´í˜¸ìœ„ì›íšŒ)
- **ì‹ ìš©ì •ë³´ì˜ ì´ìš© ë° ë³´í˜¸ì— ê´€í•œ ë²•ë¥ ** (ê¸ˆìœµìœ„ì›íšŒ)
- **ì •ë³´í†µì‹ ë§ ì´ìš©ì´‰ì§„ ë° ì •ë³´ë³´í˜¸ ë“±ì— ê´€í•œ ë²•ë¥ **
- **K-BANK ì •ë³´ë³´í˜¸ ê´€ë¦¬ê·œì •**

---

## ğŸ›¡ï¸ ì „ì²´ ë³´ì•ˆ ì•„í‚¤í…ì²˜

### ë³´ì•ˆ ì•„í‚¤í…ì²˜ ê°œìš”
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    External Security Layer                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Internet â†’ Firewall â†’ WAF â†’ DDoS Protection â†’ CDN          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Network Security Layer                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ VPN Gateway â†’ IDS/IPS â†’ Network Segmentation â†’ VLAN        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Application Security Layer                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ API Gateway â†’ OAuth2/JWT â†’ Rate Limiting â†’ Input Validationâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Data Security Layer                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Encryption at Rest â†’ Encryption in Transit â†’ Data Masking  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Infrastructure Security                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ OS Hardening â†’ Access Control â†’ Audit Logging â†’ Monitoring â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” 1. ì¸ì¦ ë° ì ‘ê·¼ ì œì–´

### 1.1 ë‹¤ë‹¨ê³„ ì¸ì¦ (Multi-Factor Authentication)

#### ì¸ì¦ ë‹¨ê³„
```mermaid
graph LR
    A[ì‚¬ìš©ì] --> B[1ì°¨: ID/PW]
    B --> C[2ì°¨: OTP/SMS]
    C --> D[3ì°¨: ìƒì²´ì¸ì¦]
    D --> E[ì ‘ê·¼ í—ˆê°€]
    
    B -->|ì‹¤íŒ¨| F[ê³„ì • ì ê¸ˆ]
    C -->|ì‹¤íŒ¨| F
    D -->|ì‹¤íŒ¨| F
```

#### êµ¬í˜„ ë°©ë²•
```java
@Service
public class MultiFactorAuthenticationService {
    
    @Autowired
    private UserRepository userRepository;
    
    @Autowired
    private OTPService otpService;
    
    @Autowired
    private BiometricService biometricService;
    
    public AuthenticationResult authenticate(AuthenticationRequest request) {
        // 1ë‹¨ê³„: ê¸°ë³¸ ì¸ì¦ (ID/Password)
        User user = validateCredentials(request.getUsername(), request.getPassword());
        if (user == null) {
            throw new AuthenticationException("Invalid credentials");
        }
        
        // 2ë‹¨ê³„: OTP ê²€ì¦
        if (!otpService.verifyOTP(user.getUserId(), request.getOtpCode())) {
            throw new AuthenticationException("Invalid OTP");
        }
        
        // 3ë‹¨ê³„: ìƒì²´ ì¸ì¦ (ì„ íƒì )
        if (user.isBiometricEnabled()) {
            if (!biometricService.verify(user.getUserId(), request.getBiometricData())) {
                throw new AuthenticationException("Biometric verification failed");
            }
        }
        
        // JWT í† í° ìƒì„±
        String accessToken = jwtService.generateToken(user);
        
        // ë¡œê·¸ì¸ ì´ë ¥ ê¸°ë¡
        auditService.logLogin(user, request.getClientIP(), request.getUserAgent());
        
        return new AuthenticationResult(accessToken, user);
    }
}
```

### 1.2 ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´ (RBAC)

#### ì—­í•  ê³„ì¸µ êµ¬ì¡°
```
ê´€ë¦¬ì (Administrator)
â”œâ”€â”€ ì‹œìŠ¤í…œê´€ë¦¬ì (System Admin)
â”‚   â”œâ”€â”€ ì‚¬ìš©ì ê´€ë¦¬
â”‚   â”œâ”€â”€ ì‹œìŠ¤í…œ ì„¤ì •
â”‚   â””â”€â”€ ëª¨ë“  ë°ì´í„° ì ‘ê·¼
â”œâ”€â”€ ë°ì´í„°ê´€ë¦¬ì (Data Admin) 
â”‚   â”œâ”€â”€ ë©”íƒ€ë°ì´í„° ê´€ë¦¬
â”‚   â”œâ”€â”€ í‘œì¤€ ìŠ¹ì¸
â”‚   â””â”€â”€ í’ˆì§ˆ ê´€ë¦¬
â””â”€â”€ ë³´ì•ˆê´€ë¦¬ì (Security Admin)
    â”œâ”€â”€ ì ‘ê·¼ ê¶Œí•œ ê´€ë¦¬
    â”œâ”€â”€ ë³´ì•ˆ ì •ì±… ì„¤ì •
    â””â”€â”€ ê°ì‚¬ ë¡œê·¸ ì¡°íšŒ

ì‚¬ìš©ì (User)
â”œâ”€â”€ ë°ì´í„°ëª¨ë¸ëŸ¬ (Data Modeler)
â”‚   â”œâ”€â”€ ëª¨ë¸ë§ ë„êµ¬ ì‚¬ìš©
â”‚   â”œâ”€â”€ ERD ì‘ì„±/ìˆ˜ì •
â”‚   â””â”€â”€ ëª¨ë¸ ìŠ¹ì¸ ìš”ì²­
â”œâ”€â”€ ë°ì´í„°ë¶„ì„ê°€ (Data Analyst)
â”‚   â”œâ”€â”€ ë©”íƒ€ë°ì´í„° ì¡°íšŒ
â”‚   â”œâ”€â”€ AI ì§ˆì˜ ì‚¬ìš©
â”‚   â””â”€â”€ ë°ì´í„° íë¦„ ë¶„ì„
â””â”€â”€ ì¼ë°˜ì‚¬ìš©ì (General User)
    â”œâ”€â”€ ë©”íƒ€ë°ì´í„° ì¡°íšŒ
    â””â”€â”€ ê¸°ë³¸ ê²€ìƒ‰ ê¸°ëŠ¥
```

#### ê¶Œí•œ ë§¤íŠ¸ë¦­ìŠ¤
```sql
-- ê¶Œí•œ ë§¤íŠ¸ë¦­ìŠ¤ í…Œì´ë¸”
CREATE TABLE system_mgmt.permission_matrix (
    role_id VARCHAR(50),
    resource_type VARCHAR(50), -- TABLE, COLUMN, API, MENU
    resource_id VARCHAR(50),
    permission_type VARCHAR(20), -- CREATE, READ, UPDATE, DELETE, EXECUTE
    is_granted BOOLEAN DEFAULT FALSE,
    conditions TEXT, -- JSON í˜•íƒœì˜ ì¡°ê±´ (ì‹œê°„, IP ë“±)
    created_datetime TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ê¶Œí•œ í™•ì¸ í•¨ìˆ˜
CREATE OR REPLACE FUNCTION check_permission(
    p_user_id VARCHAR(50),
    p_resource_type VARCHAR(50),
    p_resource_id VARCHAR(50),
    p_permission_type VARCHAR(20)
) RETURNS BOOLEAN AS $$
DECLARE
    has_permission BOOLEAN := FALSE;
BEGIN
    SELECT COALESCE(pm.is_granted, FALSE) INTO has_permission
    FROM system_mgmt.sys_user_role_mapping urm
    JOIN system_mgmt.permission_matrix pm ON urm.role_id = pm.role_id
    WHERE urm.user_id = p_user_id
      AND pm.resource_type = p_resource_type
      AND (pm.resource_id = p_resource_id OR pm.resource_id = '*')
      AND pm.permission_type = p_permission_type
      AND urm.is_active = TRUE
    ORDER BY pm.resource_id DESC -- êµ¬ì²´ì  ê¶Œí•œì´ ìš°ì„ 
    LIMIT 1;
    
    RETURN COALESCE(has_permission, FALSE);
END;
$$ LANGUAGE plpgsql;
```

### 1.3 ìµœì†Œ ê¶Œí•œ ì›ì¹™ (Principle of Least Privilege)

#### ë™ì  ê¶Œí•œ í• ë‹¹
```java
@Component
public class DynamicPermissionManager {
    
    public Set<String> calculateUserPermissions(String userId, String contextData) {
        Set<String> permissions = new HashSet<>();
        
        // ê¸°ë³¸ ì—­í•  ê¶Œí•œ
        permissions.addAll(getRoleBasedPermissions(userId));
        
        // ë°ì´í„° ë¶„ë¥˜ë³„ ê¶Œí•œ
        permissions.addAll(getDataClassificationPermissions(userId));
        
        // ì‹œê°„/ì¥ì†Œ ê¸°ë°˜ ê¶Œí•œ
        permissions.addAll(getContextualPermissions(userId, contextData));
        
        // ì„ì‹œ ê¶Œí•œ (ìŠ¹ì¸ëœ ê²½ìš°)
        permissions.addAll(getTemporaryPermissions(userId));
        
        return permissions;
    }
    
    private Set<String> getDataClassificationPermissions(String userId) {
        // ì‚¬ìš©ìì˜ ë³´ì•ˆ ë“±ê¸‰ì— ë”°ë¥¸ ë°ì´í„° ì ‘ê·¼ ê¶Œí•œ ê³„ì‚°
        SecurityLevel userLevel = userService.getSecurityLevel(userId);
        
        return switch (userLevel) {
            case TOP_SECRET -> Set.of("RESTRICTED", "CONFIDENTIAL", "INTERNAL", "PUBLIC");
            case SECRET -> Set.of("CONFIDENTIAL", "INTERNAL", "PUBLIC");
            case CONFIDENTIAL -> Set.of("INTERNAL", "PUBLIC");
            case PUBLIC -> Set.of("PUBLIC");
        };
    }
}
```

---

## ğŸ”’ 2. ë°ì´í„° ë³´ì•ˆ

### 2.1 ì•”í˜¸í™” ì²´ê³„

#### ì „ì†¡ ì¤‘ ì•”í˜¸í™” (Encryption in Transit)
```yaml
# TLS ì„¤ì •
server:
  ssl:
    enabled: true
    protocol: TLS
    enabled-protocols: TLSv1.3
    ciphers: 
      - TLS_AES_256_GCM_SHA384
      - TLS_CHACHA20_POLY1305_SHA256
      - TLS_AES_128_GCM_SHA256
    key-store: classpath:kbank-keystore.p12
    key-store-password: ${SSL_KEYSTORE_PASSWORD}
    key-store-type: PKCS12
```

#### ì €ì¥ ì‹œ ì•”í˜¸í™” (Encryption at Rest)
```java
@Entity
@Table(name = "sensitive_customer_data")
public class SensitiveCustomerData {
    
    @Id
    private String customerId;
    
    @Column(name = "customer_name")
    @Convert(converter = AESEncryptionConverter.class)
    private String customerName;
    
    @Column(name = "phone_number")
    @Convert(converter = AESEncryptionConverter.class)
    private String phoneNumber;
    
    @Column(name = "email")
    @Convert(converter = AESEncryptionConverter.class)
    private String email;
    
    @Column(name = "ssn")
    @Convert(converter = RSAEncryptionConverter.class) // ë” ê°•í•œ ì•”í˜¸í™”
    private String socialSecurityNumber;
}

@Converter
public class AESEncryptionConverter implements AttributeConverter<String, String> {
    
    private final AESUtil aesUtil;
    
    @Override
    public String convertToDatabaseColumn(String attribute) {
        if (attribute == null) return null;
        try {
            return aesUtil.encrypt(attribute, getEncryptionKey());
        } catch (Exception e) {
            throw new RuntimeException("Encryption failed", e);
        }
    }
    
    @Override
    public String convertToEntityAttribute(String dbData) {
        if (dbData == null) return null;
        try {
            return aesUtil.decrypt(dbData, getDecryptionKey());
        } catch (Exception e) {
            throw new RuntimeException("Decryption failed", e);
        }
    }
    
    private String getEncryptionKey() {
        // HSM ë˜ëŠ” Key Vaultì—ì„œ í‚¤ ì¡°íšŒ
        return keyManagementService.getKey("CUSTOMER_DATA_ENCRYPTION_KEY");
    }
}
```

#### í‚¤ ê´€ë¦¬ ì‹œìŠ¤í…œ (Key Management System)
```java
@Service
public class KeyManagementService {
    
    private final HSMClient hsmClient;
    
    public String getEncryptionKey(String keyId) {
        // HSMì—ì„œ ì•”í˜¸í™” í‚¤ ì¡°íšŒ
        try {
            return hsmClient.retrieveKey(keyId);
        } catch (HSMException e) {
            // ì¥ì•  ì‹œ ë¡œì»¬ ë°±ì—… í‚¤ ì‚¬ìš©
            return localKeyStore.getBackupKey(keyId);
        }
    }
    
    public void rotateKey(String keyId) {
        // ì£¼ê¸°ì  í‚¤ ë¡œí…Œì´ì…˜
        String newKey = hsmClient.generateKey();
        String oldKey = hsmClient.retrieveKey(keyId);
        
        // ì ì§„ì  í‚¤ êµì²´
        keyRotationService.scheduleKeyRotation(keyId, oldKey, newKey);
    }
}
```

### 2.2 ë°ì´í„° ë§ˆìŠ¤í‚¹ ë° ìµëª…í™”

#### ë™ì  ë°ì´í„° ë§ˆìŠ¤í‚¹
```java
@Component
public class DataMaskingService {
    
    public String maskData(String originalData, String dataType, String userRole) {
        return switch (dataType) {
            case "NAME" -> maskName(originalData, userRole);
            case "PHONE" -> maskPhoneNumber(originalData, userRole);
            case "EMAIL" -> maskEmail(originalData, userRole);
            case "SSN" -> maskSSN(originalData, userRole);
            case "CARD_NUMBER" -> maskCardNumber(originalData, userRole);
            default -> originalData;
        };
    }
    
    private String maskName(String name, String userRole) {
        if ("ADMIN".equals(userRole) || "DATA_ADMIN".equals(userRole)) {
            return name; // ê´€ë¦¬ìëŠ” ë§ˆìŠ¤í‚¹ ì—†ìŒ
        }
        
        if (name.length() <= 2) {
            return "*".repeat(name.length());
        }
        
        // ì²« ê¸€ìë§Œ ë³´ì´ê³  ë‚˜ë¨¸ì§€ëŠ” ë§ˆìŠ¤í‚¹
        return name.charAt(0) + "*".repeat(name.length() - 1);
    }
    
    private String maskPhoneNumber(String phone, String userRole) {
        if ("ADMIN".equals(userRole)) {
            return phone;
        }
        
        // 010-****-5678 í˜•íƒœë¡œ ë§ˆìŠ¤í‚¹
        if (phone.matches("\\d{3}-\\d{4}-\\d{4}")) {
            String[] parts = phone.split("-");
            return parts[0] + "-****-" + parts[2];
        }
        
        return phone.replaceAll("\\d", "*");
    }
}
```

#### ë°ì´í„° ìµëª…í™” ì •ì±…
```sql
-- í…ŒìŠ¤íŠ¸ í™˜ê²½ìš© ë°ì´í„° ìµëª…í™” ë·°
CREATE OR REPLACE VIEW test_env.v_anonymized_customer AS
SELECT 
    customer_id,
    CASE 
        WHEN LENGTH(customer_name) > 0 THEN 'í…ŒìŠ¤íŠ¸ê³ ê°' || LPAD(ROW_NUMBER() OVER (ORDER BY customer_id)::text, 4, '0')
        ELSE NULL 
    END AS customer_name,
    CASE 
        WHEN phone_number IS NOT NULL THEN '010-0000-' || LPAD((RANDOM() * 9999)::int::text, 4, '0')
        ELSE NULL 
    END AS phone_number,
    CASE 
        WHEN email IS NOT NULL THEN 'test' || LPAD(ROW_NUMBER() OVER (ORDER BY customer_id)::text, 4, '0') || '@test.com'
        ELSE NULL 
    END AS email,
    birth_date,
    created_date,
    modified_date
FROM customer
WHERE is_test_data = FALSE; -- ìš´ì˜ ë°ì´í„°ë§Œ ìµëª…í™”í•˜ì—¬ ì œê³µ
```

### 2.3 ê°œì¸ì •ë³´ ë³´í˜¸

#### ê°œì¸ì •ë³´ ì‹ë³„ ë° ë¶„ë¥˜
```java
@Component
public class PersonalDataClassifier {
    
    private static final Map<String, PersonalInfoType> COLUMN_PATTERNS = Map.of(
        ".*name.*", PersonalInfoType.NAME,
        ".*phone.*", PersonalInfoType.PHONE,
        ".*email.*", PersonalInfoType.EMAIL,
        ".*address.*", PersonalInfoType.ADDRESS,
        ".*ssn.*|.*ì£¼ë¯¼.*", PersonalInfoType.SSN,
        ".*card.*number.*", PersonalInfoType.CARD_NUMBER
    );
    
    public List<PersonalInfoColumn> identifyPersonalInfo(Table table) {
        List<PersonalInfoColumn> personalInfoColumns = new ArrayList<>();
        
        for (Column column : table.getColumns()) {
            PersonalInfoType type = classifyColumn(column);
            if (type != null) {
                PersonalInfoColumn piColumn = new PersonalInfoColumn(
                    column.getColumnId(),
                    column.getColumnName(),
                    type,
                    calculateSensitivityScore(column, type),
                    determineProtectionRequirement(type)
                );
                personalInfoColumns.add(piColumn);
            }
        }
        
        return personalInfoColumns;
    }
    
    private PersonalInfoType classifyColumn(Column column) {
        String columnName = column.getColumnName().toLowerCase();
        String columnComment = column.getColumnComment();
        
        for (Map.Entry<String, PersonalInfoType> entry : COLUMN_PATTERNS.entrySet()) {
            if (columnName.matches(entry.getKey()) || 
                (columnComment != null && columnComment.toLowerCase().contains(entry.getValue().name()))) {
                return entry.getValue();
            }
        }
        
        // AI ê¸°ë°˜ ë¶„ë¥˜ (ì¶”ê°€)
        return aiClassificationService.classifyColumn(column);
    }
}
```

#### GDPR/ê°œì¸ì •ë³´ë³´í˜¸ë²• ì¤€ìˆ˜
```java
@Service
public class PrivacyComplianceService {
    
    public void processDataSubjectRequest(DataSubjectRequest request) {
        switch (request.getRequestType()) {
            case ACCESS_REQUEST -> handleAccessRequest(request);
            case RECTIFICATION_REQUEST -> handleRectificationRequest(request);
            case ERASURE_REQUEST -> handleErasureRequest(request);
            case PORTABILITY_REQUEST -> handlePortabilityRequest(request);
            case OBJECTION_REQUEST -> handleObjectionRequest(request);
        }
        
        // ì²˜ë¦¬ ì´ë ¥ ê¸°ë¡
        auditService.logDataSubjectRequest(request);
    }
    
    private void handleErasureRequest(DataSubjectRequest request) {
        String customerId = request.getCustomerId();
        
        // ê°œì¸ì •ë³´ íŒŒê¸° ëŒ€ìƒ í…Œì´ë¸” ì¡°íšŒ
        List<Table> personalInfoTables = metadataService.getPersonalInfoTables();
        
        for (Table table : personalInfoTables) {
            // ë³´ì¡´ ì˜ë¬´ ê¸°ê°„ í™•ì¸
            if (isWithinRetentionPeriod(table, customerId)) {
                throw new RetentionPeriodException("ë³´ì¡´ ì˜ë¬´ ê¸°ê°„ ë‚´ ë°ì´í„°ëŠ” íŒŒê¸°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
            }
            
            // ê°œì¸ì •ë³´ ì‚­ì œ ë˜ëŠ” ìµëª…í™”
            personalDataDeletionService.deleteOrAnonymize(table, customerId);
        }
        
        // íŒŒê¸° ì™„ë£Œ í†µì§€
        notificationService.sendDataDeletionConfirmation(request.getRequesterId());
    }
}
```

---

## ğŸ›¡ï¸ 3. ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ

### 3.1 ë„¤íŠ¸ì›Œí¬ ë¶„í•  ë° ê²©ë¦¬

#### ë„¤íŠ¸ì›Œí¬ ì„¸ê·¸ë©˜í…Œì´ì…˜
```
DMZ Zone (210.xxx.xxx.0/24)
â”œâ”€â”€ Web Application Firewall
â”œâ”€â”€ Load Balancer
â””â”€â”€ Reverse Proxy

Management Zone (172.16.1.0/24)  
â”œâ”€â”€ Bastion Host
â”œâ”€â”€ Monitoring Systems
â””â”€â”€ Backup Systems

Application Zone (172.16.10.0/24)
â”œâ”€â”€ API Gateway
â”œâ”€â”€ Application Servers
â””â”€â”€ Cache Servers

Database Zone (172.16.20.0/24)
â”œâ”€â”€ Primary Database
â”œâ”€â”€ Replica Database
â””â”€â”€ Backup Database

Security Zone (172.16.30.0/24)
â”œâ”€â”€ SIEM Server
â”œâ”€â”€ Log Aggregation
â””â”€â”€ Security Tools
```

#### ë°©í™”ë²½ ê·œì¹™
```bash
# ì¸ë°”ìš´ë“œ ê·œì¹™
iptables -A INPUT -p tcp --dport 443 -s 0.0.0.0/0 -j ACCEPT    # HTTPS
iptables -A INPUT -p tcp --dport 22 -s 172.16.1.0/24 -j ACCEPT # SSH (ê´€ë¦¬ ë„¤íŠ¸ì›Œí¬ë§Œ)
iptables -A INPUT -p tcp --dport 8080 -s 172.16.10.0/24 -j ACCEPT # API (ì•± ë„¤íŠ¸ì›Œí¬ë§Œ)

# ì•„ì›ƒë°”ìš´ë“œ ê·œì¹™  
iptables -A OUTPUT -p tcp --dport 5432 -d 172.16.20.0/24 -j ACCEPT # DB ì ‘ê·¼
iptables -A OUTPUT -p tcp --dport 443 -j ACCEPT  # ì™¸ë¶€ API í˜¸ì¶œ
iptables -A OUTPUT -p tcp --dport 53 -j ACCEPT   # DNS

# ê¸°ë³¸ ì •ì±…
iptables -P INPUT DROP
iptables -P OUTPUT DROP
iptables -P FORWARD DROP
```

### 3.2 ì¹¨ì… íƒì§€ ë° ë°©ì§€ ì‹œìŠ¤í…œ

#### IDS/IPS ì„¤ì •
```yaml
# Suricata ì„¤ì •
suricata:
  rules:
    - path: /etc/suricata/rules/kbank-custom.rules
    - path: /etc/suricata/rules/emerging-threats.rules
    
  outputs:
    - fast:
        enabled: true
        filename: fast.log
    - eve-log:
        enabled: true
        filetype: json
        filename: eve.json
        types:
          - alert
          - http
          - dns
          - tls

# ì»¤ìŠ¤í…€ ê·œì¹™
# /etc/suricata/rules/kbank-custom.rules
alert tcp any any -> 172.16.20.0/24 5432 (msg:"Database access from unauthorized network"; \
    content:"postgresql"; sid:1000001; rev:1;)

alert http any any -> any any (msg:"SQL Injection attempt"; \
    content:"union select"; nocase; sid:1000002; rev:1;)

alert http any any -> any any (msg:"XSS attempt"; \
    content:"<script>"; nocase; sid:1000003; rev:1;)
```

### 3.3 VPN ë° ì›ê²© ì ‘ê·¼ ë³´ì•ˆ

#### VPN ì ‘ê·¼ ì œì–´
```java
@Component
public class VPNAccessController {
    
    public boolean validateVPNAccess(String userId, String clientIP, String certificate) {
        // 1. ì¸ì¦ì„œ ìœ íš¨ì„± ê²€ì‚¬
        if (!certificateValidator.isValid(certificate)) {
            return false;
        }
        
        // 2. ì‚¬ìš©ì VPN ê¶Œí•œ í™•ì¸
        if (!hasVPNPermission(userId)) {
            return false;
        }
        
        // 3. IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ í™•ì¸
        if (!ipWhitelist.contains(clientIP)) {
            return false;
        }
        
        // 4. ì‹œê°„ ê¸°ë°˜ ì ‘ê·¼ ì œì–´
        if (!isWithinAllowedTime(userId)) {
            return false;
        }
        
        // 5. ë™ì‹œ ì ‘ì† ìˆ˜ ì œí•œ
        if (getCurrentConnections(userId) >= getMaxConnections(userId)) {
            return false;
        }
        
        return true;
    }
}
```

---

## ğŸ” 4. ì• í”Œë¦¬ì¼€ì´ì…˜ ë³´ì•ˆ

### 4.1 ì…ë ¥ ê²€ì¦ ë° ì¶œë ¥ ì¸ì½”ë”©

#### SQL ì¸ì ì…˜ ë°©ì§€
```java
@Repository
public class SecureMetadataRepository {
    
    @Autowired
    private JdbcTemplate jdbcTemplate;
    
    // ì•ˆì „í•œ ì¿¼ë¦¬ (Prepared Statement ì‚¬ìš©)
    public List<Table> findTablesBySchema(String dbId, String schemaName) {
        String sql = "SELECT * FROM metadata.md_table_info WHERE db_id = ? AND schema_name = ?";
        
        return jdbcTemplate.query(sql, 
            new Object[]{dbId, schemaName},
            new TableRowMapper());
    }
    
    // ë™ì  ì¿¼ë¦¬ì˜ ê²½ìš° í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ê¸°ë°˜ ê²€ì¦
    public List<Table> findTablesWithDynamicSort(String sortColumn, String sortDirection) {
        // ì •ë ¬ ì»¬ëŸ¼ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ê²€ì¦
        if (!ALLOWED_SORT_COLUMNS.contains(sortColumn)) {
            throw new InvalidParameterException("Invalid sort column: " + sortColumn);
        }
        
        // ì •ë ¬ ë°©í–¥ ê²€ì¦
        if (!"ASC".equalsIgnoreCase(sortDirection) && !"DESC".equalsIgnoreCase(sortDirection)) {
            throw new InvalidParameterException("Invalid sort direction: " + sortDirection);
        }
        
        String sql = String.format("SELECT * FROM metadata.md_table_info ORDER BY %s %s", 
                                 sortColumn, sortDirection);
        
        return jdbcTemplate.query(sql, new TableRowMapper());
    }
}
```

#### XSS ë°©ì§€
```java
@Component
public class XSSProtectionFilter implements Filter {
    
    @Override
    public void doFilter(ServletRequest request, ServletResponse response, 
                        FilterChain chain) throws IOException, ServletException {
        
        XSSRequestWrapper wrappedRequest = new XSSRequestWrapper((HttpServletRequest) request);
        chain.doFilter(wrappedRequest, response);
    }
}

public class XSSRequestWrapper extends HttpServletRequestWrapper {
    
    private static final Pattern[] XSS_PATTERNS = {
        Pattern.compile("<script[^>]*>.*?</script>", Pattern.CASE_INSENSITIVE),
        Pattern.compile("javascript:", Pattern.CASE_INSENSITIVE),
        Pattern.compile("onload\\s*=", Pattern.CASE_INSENSITIVE),
        Pattern.compile("onerror\\s*=", Pattern.CASE_INSENSITIVE)
    };
    
    @Override
    public String getParameter(String parameter) {
        String value = super.getParameter(parameter);
        return sanitizeInput(value);
    }
    
    @Override
    public String[] getParameterValues(String parameter) {
        String[] values = super.getParameterValues(parameter);
        if (values == null) return null;
        
        return Arrays.stream(values)
                    .map(this::sanitizeInput)
                    .toArray(String[]::new);
    }
    
    private String sanitizeInput(String input) {
        if (input == null) return null;
        
        String sanitized = input;
        for (Pattern pattern : XSS_PATTERNS) {
            sanitized = pattern.matcher(sanitized).replaceAll("");
        }
        
        return StringEscapeUtils.escapeHtml4(sanitized);
    }
}
```

### 4.2 CSRF ë°©ì§€

#### CSRF í† í° êµ¬í˜„
```java
@Configuration
@EnableWebSecurity
public class CSRFSecurityConfig {
    
    @Bean
    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {
        http
            .csrf(csrf -> csrf
                .csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse())
                .csrfTokenRequestHandler(new CSRFTokenRequestAttributeHandler())
                .ignoringRequestMatchers("/api/v1/auth/login") // ë¡œê·¸ì¸ì€ CSRF ì œì™¸
            )
            .sessionManagement(session -> session
                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)
            );
        
        return http.build();
    }
}

// Reactì—ì„œ CSRF í† í° ì‚¬ìš©
@RestController
public class CSRFController {
    
    @GetMapping("/api/v1/csrf-token")
    public Map<String, String> getCsrfToken(HttpServletRequest request) {
        CsrfToken csrfToken = (CsrfToken) request.getAttribute("_csrf");
        return Map.of("token", csrfToken.getToken());
    }
}
```

### 4.3 API ë³´ì•ˆ

#### Rate Limiting
```java
@Component
public class RateLimitingFilter implements Filter {
    
    private final RedisTemplate<String, String> redisTemplate;
    private final RateLimitConfig rateLimitConfig;
    
    @Override
    public void doFilter(ServletRequest request, ServletResponse response, 
                        FilterChain chain) throws IOException, ServletException {
        
        HttpServletRequest httpRequest = (HttpServletRequest) request;
        String clientId = extractClientId(httpRequest);
        String endpoint = httpRequest.getRequestURI();
        
        RateLimit rateLimit = rateLimitConfig.getRateLimit(endpoint);
        
        if (!isRequestAllowed(clientId, endpoint, rateLimit)) {
            HttpServletResponse httpResponse = (HttpServletResponse) response;
            httpResponse.setStatus(HttpStatus.TOO_MANY_REQUESTS.value());
            httpResponse.getWriter().write("Rate limit exceeded");
            return;
        }
        
        chain.doFilter(request, response);
    }
    
    private boolean isRequestAllowed(String clientId, String endpoint, RateLimit rateLimit) {
        String key = String.format("rate_limit:%s:%s", clientId, endpoint);
        String currentCount = redisTemplate.opsForValue().get(key);
        
        if (currentCount == null) {
            redisTemplate.opsForValue().set(key, "1", Duration.ofSeconds(rateLimit.getWindowSeconds()));
            return true;
        }
        
        int count = Integer.parseInt(currentCount);
        if (count >= rateLimit.getMaxRequests()) {
            return false;
        }
        
        redisTemplate.opsForValue().increment(key);
        return true;
    }
}
```

#### API í‚¤ ê´€ë¦¬
```java
@Service
public class APIKeyService {
    
    public APIKey generateAPIKey(String userId, Set<String> scopes) {
        String keyValue = generateSecureRandomKey();
        String hashedKey = hashAPIKey(keyValue);
        
        APIKey apiKey = APIKey.builder()
            .keyId(UUID.randomUUID().toString())
            .userId(userId)
            .hashedKey(hashedKey)
            .scopes(scopes)
            .expiresAt(LocalDateTime.now().plusMonths(6))
            .isActive(true)
            .build();
            
        apiKeyRepository.save(apiKey);
        
        // ì›ë³¸ í‚¤ëŠ” í•œ ë²ˆë§Œ ë°˜í™˜ (ì €ì¥í•˜ì§€ ì•ŠìŒ)
        return apiKey.withKeyValue(keyValue);
    }
    
    public boolean validateAPIKey(String providedKey, String endpoint) {
        String hashedKey = hashAPIKey(providedKey);
        Optional<APIKey> apiKeyOpt = apiKeyRepository.findByHashedKey(hashedKey);
        
        if (apiKeyOpt.isEmpty()) {
            return false;
        }
        
        APIKey apiKey = apiKeyOpt.get();
        
        // ë§Œë£Œ í™•ì¸
        if (apiKey.getExpiresAt().isBefore(LocalDateTime.now())) {
            return false;
        }
        
        // ìŠ¤ì½”í”„ í™•ì¸
        if (!hasRequiredScope(apiKey.getScopes(), endpoint)) {
            return false;
        }
        
        // ë§ˆì§€ë§‰ ì‚¬ìš© ì‹œê°„ ì—…ë°ì´íŠ¸
        apiKey.setLastUsedAt(LocalDateTime.now());
        apiKeyRepository.save(apiKey);
        
        return true;
    }
}
```

---

## ğŸ“Š 5. ê°ì‚¬ ë° ëª¨ë‹ˆí„°ë§

### 5.1 í¬ê´„ì  ê°ì‚¬ ë¡œê¹…

#### ê°ì‚¬ ë¡œê·¸ êµ¬ì¡°
```java
@Entity
@Table(name = "comprehensive_audit_log")
public class ComprehensiveAuditLog {
    
    @Id
    private String auditId;
    
    // ê¸°ë³¸ ì •ë³´
    private String userId;
    private String sessionId;
    private String clientIP;
    private String userAgent;
    private LocalDateTime timestamp;
    
    // ì•¡ì…˜ ì •ë³´
    private String actionType; // CREATE, READ, UPDATE, DELETE, LOGIN, LOGOUT
    private String resourceType; // TABLE, COLUMN, USER, ROLE
    private String resourceId;
    private String resourceName;
    
    // ë³€ê²½ ì •ë³´ (UPDATEì˜ ê²½ìš°)
    @Column(columnDefinition = "TEXT")
    private String oldValues; // JSON
    
    @Column(columnDefinition = "TEXT") 
    private String newValues; // JSON
    
    // ìš”ì²­ ì •ë³´
    @Column(columnDefinition = "TEXT")
    private String requestParameters; // JSON
    
    private String httpMethod;
    private String requestUrl;
    private Integer responseStatus;
    private Long responseTimeMs;
    
    // ë³´ì•ˆ ì •ë³´
    private String riskLevel; // HIGH, MEDIUM, LOW
    private Boolean sensitiveDataAccess;
    private String accessContext; // BUSINESS_HOUR, AFTER_HOUR, WEEKEND
    
    // ì§€ë¦¬ì  ì •ë³´
    private String geoLocation;
    private Boolean suspiciousLocation;
}
```

#### ê°ì‚¬ ë¡œê·¸ ìë™ ìƒì„±
```java
@Aspect
@Component
public class AuditLoggingAspect {
    
    @Autowired
    private AuditService auditService;
    
    @Around("@annotation(Auditable)")
    public Object auditMethodExecution(ProceedingJoinPoint joinPoint) throws Throwable {
        long startTime = System.currentTimeMillis();
        String methodName = joinPoint.getSignature().getName();
        Object[] args = joinPoint.getArgs();
        
        // ìš”ì²­ ì •ë³´ ìˆ˜ì§‘
        HttpServletRequest request = getCurrentRequest();
        String userId = SecurityContextHolder.getContext().getAuthentication().getName();
        
        try {
            Object result = joinPoint.proceed();
            
            // ì„±ê³µ ê°ì‚¬ ë¡œê·¸
            auditService.logSuccess(
                userId,
                methodName,
                args,
                result,
                System.currentTimeMillis() - startTime,
                request
            );
            
            return result;
            
        } catch (Exception e) {
            // ì‹¤íŒ¨ ê°ì‚¬ ë¡œê·¸
            auditService.logFailure(
                userId,
                methodName,
                args,
                e.getMessage(),
                System.currentTimeMillis() - startTime,
                request
            );
            
            throw e;
        }
    }
}

// ì‚¬ìš© ì˜ˆì‹œ
@Service
public class MetadataService {
    
    @Auditable(resourceType = "TABLE", actionType = "UPDATE")
    public Table updateTable(String tableId, Table tableData) {
        // í…Œì´ë¸” ì—…ë°ì´íŠ¸ ë¡œì§
    }
    
    @Auditable(resourceType = "COLUMN", actionType = "READ", sensitiveData = true)
    public List<Column> getPersonalInfoColumns(String tableId) {
        // ê°œì¸ì •ë³´ ì»¬ëŸ¼ ì¡°íšŒ ë¡œì§
    }
}
```

### 5.2 ì‹¤ì‹œê°„ ë³´ì•ˆ ëª¨ë‹ˆí„°ë§

#### ì´ìƒ í–‰ìœ„ íƒì§€
```java
@Service
public class AnomalyDetectionService {
    
    @Scheduled(fixedRate = 60000) // 1ë¶„ë§ˆë‹¤ ì‹¤í–‰
    public void detectAnomalousActivity() {
        LocalDateTime now = LocalDateTime.now();
        LocalDateTime lookbackTime = now.minusMinutes(5);
        
        // 1. ë¹„ì •ìƒì ì¸ ëŒ€ëŸ‰ ì¡°íšŒ íƒì§€
        detectMassDataAccess(lookbackTime, now);
        
        // 2. ë¹„ì •ìƒ ì‹œê°„ëŒ€ ì ‘ê·¼ íƒì§€
        detectAfterHoursAccess(lookbackTime, now);
        
        // 3. ì§€ë¦¬ì  ì´ìƒ ì ‘ê·¼ íƒì§€
        detectGeoAnomalies(lookbackTime, now);
        
        // 4. ê¶Œí•œ ìƒìŠ¹ ì‹œë„ íƒì§€
        detectPrivilegeEscalation(lookbackTime, now);
        
        // 5. ë°ì´í„° ë°˜ì¶œ ì‹œë„ íƒì§€
        detectDataExfiltration(lookbackTime, now);
    }
    
    private void detectMassDataAccess(LocalDateTime start, LocalDateTime end) {
        String sql = """
            SELECT user_id, COUNT(*) as access_count
            FROM comprehensive_audit_log 
            WHERE timestamp BETWEEN ? AND ?
              AND action_type = 'READ'
              AND resource_type IN ('TABLE', 'COLUMN')
            GROUP BY user_id
            HAVING COUNT(*) > 100
            """;
        
        List<Map<String, Object>> results = jdbcTemplate.queryForList(sql, start, end);
        
        for (Map<String, Object> result : results) {
            String userId = (String) result.get("user_id");
            Long accessCount = (Long) result.get("access_count");
            
            SecurityAlert alert = SecurityAlert.builder()
                .alertType("MASS_DATA_ACCESS")
                .severity(Severity.HIGH)
                .userId(userId)
                .description(String.format("ì‚¬ìš©ì %sê°€ 5ë¶„ ë‚´ì— %díšŒì˜ ëŒ€ëŸ‰ ë°ì´í„° ì ‘ê·¼ì„ ì‹œë„í–ˆìŠµë‹ˆë‹¤.", userId, accessCount))
                .timestamp(LocalDateTime.now())
                .build();
                
            securityAlertService.raiseAlert(alert);
        }
    }
    
    private void detectAfterHoursAccess(LocalDateTime start, LocalDateTime end) {
        int currentHour = LocalDateTime.now().getHour();
        
        // ì—…ë¬´ì‹œê°„ ì™¸ ì ‘ê·¼ (22ì‹œ~6ì‹œ)
        if (currentHour >= 22 || currentHour <= 6) {
            String sql = """
                SELECT user_id, COUNT(*) as access_count
                FROM comprehensive_audit_log 
                WHERE timestamp BETWEEN ? AND ?
                  AND sensitive_data_access = true
                GROUP BY user_id
                """;
            
            List<Map<String, Object>> results = jdbcTemplate.queryForList(sql, start, end);
            
            for (Map<String, Object> result : results) {
                SecurityAlert alert = SecurityAlert.builder()
                    .alertType("AFTER_HOURS_SENSITIVE_ACCESS")
                    .severity(Severity.MEDIUM)
                    .userId((String) result.get("user_id"))
                    .description("ì—…ë¬´ì‹œê°„ ì™¸ ë¯¼ê°ì •ë³´ ì ‘ê·¼ì´ íƒì§€ë˜ì—ˆìŠµë‹ˆë‹¤.")
                    .build();
                    
                securityAlertService.raiseAlert(alert);
            }
        }
    }
}
```

#### SIEM ì—°ë™
```java
@Component
public class SIEMIntegration {
    
    private final SyslogAppender syslogAppender;
    
    public void sendToSIEM(SecurityAlert alert) {
        // CEF (Common Event Format) í˜•ì‹ìœ¼ë¡œ ì „ì†¡
        String cefMessage = String.format(
            "CEF:0|KBANK|DataManagementPlatform|1.0|%s|%s|%d|src=%s suser=%s msg=%s",
            alert.getAlertType(),
            alert.getDescription(),
            alert.getSeverity().getNumericValue(),
            alert.getSourceIP(),
            alert.getUserId(),
            alert.getDescription()
        );
        
        syslogAppender.append(cefMessage);
    }
    
    public void sendMetricToSIEM(String metricName, Object value, Map<String, String> tags) {
        // JSON í˜•ì‹ìœ¼ë¡œ ë©”íŠ¸ë¦­ ì „ì†¡
        JsonObject metric = new JsonObject();
        metric.addProperty("timestamp", Instant.now().toEpochMilli());
        metric.addProperty("metric_name", metricName);
        metric.addProperty("value", value.toString());
        metric.add("tags", gson.toJsonTree(tags));
        
        syslogAppender.append(metric.toString());
    }
}
```

### 5.3 ì»´í”Œë¼ì´ì–¸ìŠ¤ ëª¨ë‹ˆí„°ë§

#### ê·œì œ ì¤€ìˆ˜ ê²€ì‚¬
```java
@Service
public class ComplianceMonitoringService {
    
    @Scheduled(cron = "0 0 2 * * *") // ë§¤ì¼ ìƒˆë²½ 2ì‹œ ì‹¤í–‰
    public void dailyComplianceCheck() {
        // 1. ê°œì¸ì •ë³´ ì ‘ê·¼ ë¡œê·¸ ê²€ì‚¬
        checkPersonalDataAccess();
        
        // 2. ë°ì´í„° ë³´ì¡´ ì •ì±… ì¤€ìˆ˜ ê²€ì‚¬  
        checkDataRetentionPolicy();
        
        // 3. ê¶Œí•œ ê²€í†  (90ì¼ ì£¼ê¸°)
        checkAccessPermissions();
        
        // 4. ì•”í˜¸í™” ìƒíƒœ ê²€ì‚¬
        checkEncryptionCompliance();
        
        // 5. ë°±ì—… ìƒíƒœ ê²€ì‚¬
        checkBackupCompliance();
    }
    
    private void checkPersonalDataAccess() {
        // ê°œì¸ì •ë³´ ì ‘ê·¼ ë¡œê·¸ ê²€ì‚¬
        String sql = """
            SELECT 
                user_id,
                COUNT(*) as access_count,
                COUNT(DISTINCT resource_id) as unique_tables_accessed
            FROM comprehensive_audit_log 
            WHERE DATE(timestamp) = CURRENT_DATE - INTERVAL '1 day'
              AND sensitive_data_access = true
              AND action_type = 'READ'
            GROUP BY user_id
            """;
        
        List<Map<String, Object>> results = jdbcTemplate.queryForList(sql);
        
        for (Map<String, Object> result : results) {
            String userId = (String) result.get("user_id");
            Long accessCount = (Long) result.get("access_count");
            Long uniqueTables = (Long) result.get("unique_tables_accessed");
            
            // ë¹„ì •ìƒì ì¸ ê°œì¸ì •ë³´ ì ‘ê·¼ íŒ¨í„´ íƒì§€
            if (accessCount > 1000 || uniqueTables > 50) {
                ComplianceViolation violation = ComplianceViolation.builder()
                    .violationType("EXCESSIVE_PERSONAL_DATA_ACCESS")
                    .userId(userId)
                    .description(String.format("ê³¼ë„í•œ ê°œì¸ì •ë³´ ì ‘ê·¼: %díšŒ ì ‘ê·¼, %dê°œ í…Œì´ë¸”", accessCount, uniqueTables))
                    .severity(Severity.HIGH)
                    .detectedAt(LocalDateTime.now())
                    .build();
                    
                complianceViolationService.recordViolation(violation);
            }
        }
    }
    
    private void checkDataRetentionPolicy() {
        // ë³´ì¡´ê¸°ê°„ ë§Œë£Œ ë°ì´í„° ê²€ì‚¬
        String sql = """
            SELECT 
                t.table_name,
                t.retention_period_days,
                COUNT(*) as expired_records
            FROM metadata.md_table_info t
            JOIN (
                SELECT table_name, COUNT(*) as cnt
                FROM information_schema.columns c
                WHERE c.table_name = t.table_name
                  AND c.column_name = 'created_date'
                  AND (CURRENT_DATE - c.created_date) > t.retention_period_days
            ) expired ON expired.table_name = t.table_name
            WHERE t.retention_period_days IS NOT NULL
            """;
        
        List<Map<String, Object>> expiredData = jdbcTemplate.queryForList(sql);
        
        if (!expiredData.isEmpty()) {
            ComplianceViolation violation = ComplianceViolation.builder()
                .violationType("DATA_RETENTION_VIOLATION")
                .description("ë³´ì¡´ê¸°ê°„ ë§Œë£Œ ë°ì´í„°ê°€ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤.")
                .severity(Severity.MEDIUM)
                .details(gson.toJson(expiredData))
                .build();
                
            complianceViolationService.recordViolation(violation);
        }
    }
}
```

---

## ğŸš¨ 6. ì‚¬ê³  ëŒ€ì‘ ë° ë³µêµ¬

### 6.1 ë³´ì•ˆ ì‚¬ê³  ëŒ€ì‘ ê³„íš

#### ì‚¬ê³  ëŒ€ì‘ ì ˆì°¨
```java
@Service
public class IncidentResponseService {
    
    public void handleSecurityIncident(SecurityIncident incident) {
        // 1. ì‚¬ê³  ë¶„ë¥˜ ë° ìš°ì„ ìˆœìœ„ ê²°ì •
        IncidentSeverity severity = classifyIncident(incident);
        
        // 2. ì¦‰ì‹œ ëŒ€ì‘ ì¡°ì¹˜
        executeImmediateResponse(incident, severity);
        
        // 3. ê´€ë ¨ì í†µë³´
        notifyStakeholders(incident, severity);
        
        // 4. ì¦ê±° ìˆ˜ì§‘ ë° ë³´ì¡´
        collectEvidence(incident);
        
        // 5. ì›ì¸ ë¶„ì„
        analyzeRootCause(incident);
        
        // 6. ë³µêµ¬ ê³„íš ìˆ˜ë¦½ ë° ì‹¤í–‰
        executeRecoveryPlan(incident);
        
        // 7. ì‚¬í›„ ê²€í† 
        conductPostIncidentReview(incident);
    }
    
    private void executeImmediateResponse(SecurityIncident incident, IncidentSeverity severity) {
        switch (severity) {
            case CRITICAL -> {
                // ì‹œìŠ¤í…œ ì¦‰ì‹œ ì°¨ë‹¨
                systemShutdownService.emergencyShutdown();
                
                // ë„¤íŠ¸ì›Œí¬ ê²©ë¦¬
                networkIsolationService.isolateCompromisedSystems(incident.getAffectedSystems());
                
                // ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ ë°œê¸‰
                userService.forcePasswordReset(incident.getAffectedUsers());
            }
            case HIGH -> {
                // ê´€ë ¨ ê³„ì • ì ê¸ˆ
                userService.lockAccounts(incident.getAffectedUsers());
                
                // ì˜ì‹¬ìŠ¤ëŸ¬ìš´ ì„¸ì…˜ ì¢…ë£Œ
                sessionService.terminateSuspiciousSessions(incident.getSuspiciousSessionIds());
                
                // ì¶”ê°€ ëª¨ë‹ˆí„°ë§ í™œì„±í™”
                enhancedMonitoringService.activate();
            }
            case MEDIUM -> {
                // ì¶”ê°€ ì¸ì¦ ìš”êµ¬
                authenticationService.requireAdditionalAuthentication(incident.getAffectedUsers());
                
                // ì•¡ì„¸ìŠ¤ ë¡œê·¸ ì¦ê°•
                auditService.enhanceLogging();
            }
        }
    }
    
    private void notifyStakeholders(SecurityIncident incident, IncidentSeverity severity) {
        NotificationBuilder notification = NotificationBuilder.create()
            .withIncident(incident)
            .withSeverity(severity)
            .withTimestamp(LocalDateTime.now());
        
        // ë‚´ë¶€ í†µë³´
        if (severity.isHighOrCritical()) {
            notificationService.notifyCISO(notification.build());
            notificationService.notifyITManager(notification.build());
        }
        
        // ë²•ì  í†µë³´ ì˜ë¬´ (24ì‹œê°„ ë‚´)
        if (incident.involvesPersonalData() && severity.requiresLegalNotification()) {
            legalNotificationService.scheduleNotification(
                incident, 
                Duration.ofHours(24)
            );
        }
        
        // ê³ ê° í†µë³´ (í•„ìš” ì‹œ)
        if (incident.affectsCustomerData()) {
            customerNotificationService.prepareCustomerNotification(incident);
        }
    }
}
```

### 6.2 ë°±ì—… ë° ë³µêµ¬ ì „ëµ

#### ìë™í™”ëœ ë°±ì—… ì‹œìŠ¤í…œ
```yaml
# ë°±ì—… ì •ì±… ì„¤ì •
backup:
  databases:
    primary:
      schedule: "0 2 * * *"  # ë§¤ì¼ ìƒˆë²½ 2ì‹œ
      type: "full"
      retention: "30d"
      encryption: true
    
    incremental:
      schedule: "0 */4 * * *"  # 4ì‹œê°„ë§ˆë‹¤
      type: "incremental" 
      retention: "7d"
      
  application_data:
    schedule: "0 1 * * *"  # ë§¤ì¼ ìƒˆë²½ 1ì‹œ
    locations:
      - "/app/config"
      - "/app/logs"
      - "/app/certificates"
    retention: "90d"
```

```bash
#!/bin/bash
# ìë™ ë°±ì—… ìŠ¤í¬ë¦½íŠ¸
BACKUP_DIR="/backup/$(date +%Y%m%d)"
ENCRYPTION_KEY="/etc/backup/backup.key"

# ë””ë ‰í„°ë¦¬ ìƒì„±
mkdir -p $BACKUP_DIR

# ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—…
pg_dump -h localhost -U kbank_user kbank_metadata_db | \
  gzip | \
  gpg --cipher-algo AES256 --compress-algo 2 --symmetric --passphrase-file $ENCRYPTION_KEY \
  > $BACKUP_DIR/metadata_db_$(date +%Y%m%d_%H%M%S).sql.gz.gpg

# ì„¤ì • íŒŒì¼ ë°±ì—…
tar -czf $BACKUP_DIR/config_backup_$(date +%Y%m%d).tar.gz /app/config

# ë°±ì—… ë¬´ê²°ì„± ê²€ì¦
sha256sum $BACKUP_DIR/* > $BACKUP_DIR/checksums.txt

# ì›ê²© ì €ì¥ì†Œë¡œ ì „ì†¡
aws s3 sync $BACKUP_DIR s3://kbank-backup-bucket/metadata-platform/$(date +%Y%m%d)/

# ì˜¤ë˜ëœ ë°±ì—… ì •ë¦¬
find /backup -type d -mtime +30 -exec rm -rf {} \;
```

#### ì¬í•´ ë³µêµ¬ ì ˆì°¨
```java
@Service
public class DisasterRecoveryService {
    
    public void executeDisasterRecovery(DisasterType disasterType) {
        switch (disasterType) {
            case HARDWARE_FAILURE -> recoverFromHardwareFailure();
            case DATABASE_CORRUPTION -> recoverFromDatabaseCorruption();
            case CYBER_ATTACK -> recoverFromCyberAttack();
            case NATURAL_DISASTER -> recoverFromNaturalDisaster();
        }
    }
    
    private void recoverFromDatabaseCorruption() {
        // 1. ì„œë¹„ìŠ¤ ì¤‘ë‹¨ ê³µì§€
        notificationService.announceServiceMaintenance();
        
        // 2. íŠ¸ë˜í”½ ì°¨ë‹¨
        loadBalancerService.redirectTraffic();
        
        // 3. ìµœì‹  ë°±ì—… í™•ì¸ ë° ë³µì›
        BackupInfo latestBackup = backupService.getLatestValidBackup();
        databaseService.restoreFromBackup(latestBackup);
        
        // 4. ë°ì´í„° ì¼ê´€ì„± ê²€ì¦
        boolean isConsistent = dataIntegrityService.verifyDataConsistency();
        if (!isConsistent) {
            throw new RecoveryException("ë°ì´í„° ì¼ê´€ì„± ê²€ì¦ ì‹¤íŒ¨");
        }
        
        // 5. ì• í”Œë¦¬ì¼€ì´ì…˜ ì¬ì‹œì‘
        applicationService.restart();
        
        // 6. í—¬ìŠ¤ì²´í¬ ë° ì„œë¹„ìŠ¤ ì¬ê°œ
        if (healthCheckService.isSystemHealthy()) {
            loadBalancerService.resumeTraffic();
            notificationService.announceServiceRestoration();
        }
    }
}
```

---

## ğŸ“‹ 7. ë³´ì•ˆ ì •ì±… ë° ì ˆì°¨

### 7.1 ì •ë³´ë³´í˜¸ ì •ì±…

#### ë°ì´í„° ë¶„ë¥˜ ì •ì±…
```yaml
data_classification:
  PUBLIC:
    description: "ê³µê°œ ê°€ëŠ¥í•œ ì •ë³´"
    examples: ["ê³µì‹œ ì •ë³´", "ë§ˆì¼€íŒ… ìë£Œ"]
    protection_level: "ê¸°ë³¸"
    
  INTERNAL:
    description: "ë‚´ë¶€ ì „ìš© ì •ë³´"  
    examples: ["ì—…ë¬´ ë§¤ë‰´ì–¼", "ì¡°ì§ë„"]
    protection_level: "ë‚´ë¶€ ì ‘ê·¼ ì œí•œ"
    
  CONFIDENTIAL:
    description: "ê¸°ë°€ ì •ë³´"
    examples: ["ê³ ê° ì •ë³´", "ì¬ë¬´ ë°ì´í„°"]
    protection_level: "ì•”í˜¸í™” + ì ‘ê·¼ ë¡œê·¸"
    
  RESTRICTED:
    description: "ê·¹ë¹„ ì •ë³´"
    examples: ["ê°œì¸ì‹ ìš©ì •ë³´", "ë³´ì•ˆ ì •ì±…"]
    protection_level: "ìµœê³  ìˆ˜ì¤€ ë³´ì•ˆ"

access_control:
  PUBLIC:
    required_roles: ["ANY"]
    encryption: false
    audit_logging: false
    
  INTERNAL:
    required_roles: ["EMPLOYEE"]
    encryption: false
    audit_logging: true
    
  CONFIDENTIAL:
    required_roles: ["AUTHORIZED_USER"]
    encryption: true
    audit_logging: true
    data_masking: true
    
  RESTRICTED:
    required_roles: ["PRIVILEGED_USER"]
    encryption: true
    audit_logging: true
    data_masking: true
    two_factor_auth: true
    approval_required: true
```

#### ë¹„ë°€ë²ˆí˜¸ ì •ì±…
```java
@Component
public class PasswordPolicy {
    
    private static final int MIN_LENGTH = 12;
    private static final int MAX_LENGTH = 128;
    private static final int MIN_UPPERCASE = 1;
    private static final int MIN_LOWERCASE = 1;
    private static final int MIN_DIGITS = 2;
    private static final int MIN_SPECIAL_CHARS = 2;
    private static final int PASSWORD_HISTORY = 12;
    private static final int MAX_AGE_DAYS = 90;
    
    public PasswordValidationResult validatePassword(String password, String userId) {
        List<String> violations = new ArrayList<>();
        
        // ê¸¸ì´ ê²€ì¦
        if (password.length() < MIN_LENGTH) {
            violations.add("ë¹„ë°€ë²ˆí˜¸ëŠ” ìµœì†Œ " + MIN_LENGTH + "ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.");
        }
        
        // ë³µì¡ë„ ê²€ì¦
        if (!hasMinimumCharacterTypes(password)) {
            violations.add("ì˜ë¬¸ ëŒ€ì†Œë¬¸ì, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ìë¥¼ ëª¨ë‘ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤.");
        }
        
        // ì‚¬ì „ ë‹¨ì–´ ê²€ì¦
        if (containsCommonWords(password)) {
            violations.add("ì¼ë°˜ì ì¸ ë‹¨ì–´ë‚˜ íŒ¨í„´ì€ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
        }
        
        // ê°œì¸ì •ë³´ í¬í•¨ ê²€ì¦
        if (containsPersonalInfo(password, userId)) {
            violations.add("ì‚¬ìš©ì ì •ë³´ê°€ í¬í•¨ëœ ë¹„ë°€ë²ˆí˜¸ëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
        }
        
        // ì´ì „ ë¹„ë°€ë²ˆí˜¸ ì´ë ¥ í™•ì¸
        if (isInPasswordHistory(password, userId)) {
            violations.add("ìµœê·¼ " + PASSWORD_HISTORY + "ê°œ ë¹„ë°€ë²ˆí˜¸ëŠ” ì¬ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
        }
        
        return new PasswordValidationResult(violations.isEmpty(), violations);
    }
}
```

### 7.2 ì ‘ê·¼ ì œì–´ ì ˆì°¨

#### ê¶Œí•œ ì‹ ì²­ ë° ìŠ¹ì¸ í”„ë¡œì„¸ìŠ¤
```java
@Service
public class AccessRequestService {
    
    public AccessRequest submitAccessRequest(AccessRequestDto requestDto) {
        // 1. ìš”ì²­ ìœ íš¨ì„± ê²€ì¦
        validateAccessRequest(requestDto);
        
        // 2. ìš”ì²­ ìƒì„±
        AccessRequest request = AccessRequest.builder()
            .requestId(UUID.randomUUID().toString())
            .requesterId(requestDto.getRequesterId())
            .resourceType(requestDto.getResourceType())
            .resourceId(requestDto.getResourceId())
            .requestedPermissions(requestDto.getPermissions())
            .businessJustification(requestDto.getJustification())
            .requestedDuration(requestDto.getDuration())
            .status(AccessRequestStatus.PENDING)
            .submittedAt(LocalDateTime.now())
            .build();
        
        // 3. ìŠ¹ì¸ì ê²°ì •
        String approverId = determineApprover(request);
        request.setApproverId(approverId);
        
        // 4. ìë™ ìŠ¹ì¸ ì—¬ë¶€ í™•ì¸
        if (isEligibleForAutoApproval(request)) {
            request.setStatus(AccessRequestStatus.APPROVED);
            request.setApprovedAt(LocalDateTime.now());
            request.setApprovalComment("ìë™ ìŠ¹ì¸ - ê¸°ë³¸ ê¶Œí•œ");
            
            // ì¦‰ì‹œ ê¶Œí•œ ë¶€ì—¬
            grantAccess(request);
        }
        
        // 5. ì•Œë¦¼ ë°œì†¡
        sendAccessRequestNotification(request);
        
        return accessRequestRepository.save(request);
    }
    
    public void processApprovalDecision(String requestId, ApprovalDecision decision) {
        AccessRequest request = accessRequestRepository.findById(requestId)
            .orElseThrow(() -> new ResourceNotFoundException("ì ‘ê·¼ ìš”ì²­ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."));
        
        if (decision.isApproved()) {
            // ìŠ¹ì¸ ì²˜ë¦¬
            request.setStatus(AccessRequestStatus.APPROVED);
            request.setApprovedAt(LocalDateTime.now());
            request.setApprovalComment(decision.getComment());
            
            // ê¶Œí•œ ë¶€ì—¬
            grantAccess(request);
            
            // ë§Œë£Œ ìŠ¤ì¼€ì¤„ë§
            scheduleAccessExpiry(request);
            
        } else {
            // ë°˜ë ¤ ì²˜ë¦¬
            request.setStatus(AccessRequestStatus.REJECTED);
            request.setRejectedAt(LocalDateTime.now());
            request.setRejectionReason(decision.getComment());
        }
        
        accessRequestRepository.save(request);
        
        // ìš”ì²­ìì—ê²Œ ê²°ê³¼ í†µì§€
        notificationService.sendApprovalDecision(request);
    }
}
```

### 7.3 ë³´ì•ˆ êµìœ¡ ë° ì¸ì‹ ì œê³ 

#### ë³´ì•ˆ êµìœ¡ ì‹œìŠ¤í…œ
```java
@Service
public class SecurityTrainingService {
    
    public void assignMandatoryTraining(String userId) {
        List<TrainingModule> modules = List.of(
            TrainingModule.of("INFORMATION_SECURITY_BASICS", "ì •ë³´ë³´í˜¸ ê¸°ì´ˆ", Duration.ofMinutes(30)),
            TrainingModule.of("PERSONAL_DATA_PROTECTION", "ê°œì¸ì •ë³´ë³´í˜¸", Duration.ofMinutes(45)),
            TrainingModule.of("PHISHING_AWARENESS", "í”¼ì‹± ì¸ì‹ ë° ëŒ€ì‘", Duration.ofMinutes(20)),
            TrainingModule.of("SECURE_CODING", "ë³´ì•ˆ ì½”ë”©", Duration.ofMinutes(60)),
            TrainingModule.of("INCIDENT_RESPONSE", "ë³´ì•ˆì‚¬ê³  ëŒ€ì‘", Duration.ofMinutes(25))
        );
        
        for (TrainingModule module : modules) {
            TrainingAssignment assignment = TrainingAssignment.builder()
                .userId(userId)
                .moduleId(module.getId())
                .assignedDate(LocalDate.now())
                .dueDate(LocalDate.now().plusDays(30))
                .status(TrainingStatus.ASSIGNED)
                .build();
                
            trainingAssignmentRepository.save(assignment);
        }
        
        // êµìœ¡ ì•Œë¦¼ ë°œì†¡
        notificationService.sendTrainingNotification(userId, modules);
    }
    
    @Scheduled(cron = "0 9 * * MON") // ë§¤ì£¼ ì›”ìš”ì¼ 9ì‹œ
    public void sendTrainingReminders() {
        List<TrainingAssignment> overdueAssignments = 
            trainingAssignmentRepository.findOverdueAssignments(LocalDate.now());
            
        for (TrainingAssignment assignment : overdueAssignments) {
            notificationService.sendTrainingReminder(assignment);
            
            // 3íšŒ ì´ìƒ ë¯¸ì´ìˆ˜ ì‹œ ê³„ì • ì œí•œ
            if (assignment.getReminderCount() >= 3) {
                userService.restrictAccount(
                    assignment.getUserId(), 
                    "í•„ìˆ˜ ë³´ì•ˆêµìœ¡ ë¯¸ì´ìˆ˜"
                );
            }
        }
    }
}
```

---

## ğŸ”§ 8. ë³´ì•ˆ ë„êµ¬ ë° ê¸°ìˆ  ìŠ¤íƒ

### 8.1 ë³´ì•ˆ ë„êµ¬ êµ¬ì„±

#### ë³´ì•ˆ ë„êµ¬ ëª©ë¡
```yaml
security_tools:
  
  network_security:
    firewall: "Fortinet FortiGate"
    waf: "F5 BIG-IP ASM"  
    ids_ips: "Snort + Suricata"
    ddos_protection: "Cloudflare"
    
  endpoint_security:
    antivirus: "CrowdStrike Falcon"
    edr: "SentinelOne"
    dlp: "Symantec DLP"
    
  application_security:
    sast: "SonarQube"
    dast: "OWASP ZAP"
    iast: "Contrast Security"
    dependency_check: "OWASP Dependency Check"
    
  identity_management:
    iam: "Oracle Identity Management"
    pam: "CyberArk PAM"
    sso: "KBANK SSO"
    
  monitoring_analysis:
    siem: "IBM QRadar"
    log_management: "Elastic Stack"
    vulnerability_scanner: "Nessus"
    
  encryption_pki:
    hsm: "SafeNet Luna"
    pki: "Microsoft ADCS"
    key_management: "HashiCorp Vault"
```

### 8.2 ë³´ì•ˆ ê°œë°œ ë¼ì´í”„ì‚¬ì´í´ (SDL)

#### ê°œë°œ ë‹¨ê³„ë³„ ë³´ì•ˆ í™œë™
```mermaid
graph TD
    A[ìš”êµ¬ì‚¬í•­ ë¶„ì„] --> B[ìœ„í—˜ ë¶„ì„]
    B --> C[ë³´ì•ˆ ì„¤ê³„]
    C --> D[ë³´ì•ˆ ì½”ë”©]
    D --> E[ì½”ë“œ ë¦¬ë·°]
    E --> F[ë³´ì•ˆ í…ŒìŠ¤íŠ¸]
    F --> G[ì¹¨íˆ¬ í…ŒìŠ¤íŠ¸]
    G --> H[ë°°í¬ ìŠ¹ì¸]
    H --> I[ìš´ì˜ ëª¨ë‹ˆí„°ë§]
    
    B --> J[ìœ„í˜‘ ëª¨ë¸ë§]
    D --> K[SAST ê²€ì‚¬]
    F --> L[DAST ê²€ì‚¬]
    G --> M[ëª¨ì˜í•´í‚¹]
```

#### ì½”ë“œ ë³´ì•ˆ ê²€ì‚¬ ìë™í™”
```yaml
# GitHub Actions ë³´ì•ˆ ì›Œí¬í”Œë¡œìš°
name: Security Checks
on: [push, pull_request]

jobs:
  security-scan:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    
    - name: SAST Scan
      run: |
        # SonarQube ì •ì  ë¶„ì„
        sonar-scanner \
          -Dsonar.projectKey=kbank-metadata-platform \
          -Dsonar.sources=src \
          -Dsonar.host.url=${{ secrets.SONAR_HOST }} \
          -Dsonar.login=${{ secrets.SONAR_TOKEN }}
    
    - name: Dependency Check
      run: |
        # ì˜ì¡´ì„± ì·¨ì•½ì  ê²€ì‚¬
        dependency-check.sh \
          --project "KBANK Metadata Platform" \
          --scan src \
          --format "ALL"
          
    - name: Container Security Scan
      run: |
        # Docker ì´ë¯¸ì§€ ë³´ì•ˆ ìŠ¤ìº”
        docker run --rm -v /var/run/docker.sock:/var/run/docker.sock \
          aquasec/trivy:latest image kbank/metadata-platform:latest
          
    - name: Infrastructure Security Scan  
      run: |
        # Terraform ë³´ì•ˆ ìŠ¤ìº”
        tfsec .
        
    - name: License Check
      run: |
        # ë¼ì´ì„ ìŠ¤ ì¤€ìˆ˜ ê²€ì‚¬
        license-checker --production --onlyAllow 'MIT;Apache-2.0;BSD-3-Clause'
```

---

## ğŸ“Š 9. ë³´ì•ˆ ë©”íŠ¸ë¦­ ë° KPI

### 9.1 ë³´ì•ˆ KPI

#### í•µì‹¬ ë³´ì•ˆ ì§€í‘œ
```java
@Component
public class SecurityMetricsCollector {
    
    @Scheduled(cron = "0 0 * * * *") // ë§¤ì‹œê°„
    public void collectSecurityMetrics() {
        
        // 1. ì¸ì¦ ê´€ë ¨ ë©”íŠ¸ë¦­
        AuthenticationMetrics authMetrics = AuthenticationMetrics.builder()
            .successfulLogins(countSuccessfulLogins(getLastHour()))
            .failedLogins(countFailedLogins(getLastHour()))
            .lockedAccounts(countLockedAccounts())
            .mfaUsageRate(calculateMfaUsageRate())
            .build();
            
        // 2. ì ‘ê·¼ ì œì–´ ë©”íŠ¸ë¦­
        AccessControlMetrics accessMetrics = AccessControlMetrics.builder()
            .privilegedAccessCount(countPrivilegedAccess(getLastHour()))
            .sensitiveDataAccess(countSensitiveDataAccess(getLastHour()))
            .unauthorizedAttempts(countUnauthorizedAttempts(getLastHour()))
            .permissionViolations(countPermissionViolations(getLastHour()))
            .build();
            
        // 3. ë°ì´í„° ë³´ì•ˆ ë©”íŠ¸ë¦­
        DataSecurityMetrics dataMetrics = DataSecurityMetrics.builder()
            .encryptionCoverage(calculateEncryptionCoverage())
            .dataLeakageAttempts(countDataLeakageAttempts(getLastHour()))
            .backupSuccessRate(calculateBackupSuccessRate())
            .dataIntegrityViolations(countIntegrityViolations(getLastHour()))
            .build();
            
        // 4. ìœ„í˜‘ íƒì§€ ë©”íŠ¸ë¦­
        ThreatDetectionMetrics threatMetrics = ThreatDetectionMetrics.builder()
            .securityAlerts(countSecurityAlerts(getLastHour()))
            .falsePositiveRate(calculateFalsePositiveRate())
            .meanTimeToDetection(calculateMeanTimeToDetection())
            .meanTimeToResponse(calculateMeanTimeToResponse())
            .build();
            
        // ë©”íŠ¸ë¦­ ì €ì¥ ë° ì „ì†¡
        metricsRepository.save(authMetrics, accessMetrics, dataMetrics, threatMetrics);
        siemIntegration.sendMetrics(authMetrics, accessMetrics, dataMetrics, threatMetrics);
    }
}
```

#### ë³´ì•ˆ ëŒ€ì‹œë³´ë“œ
```json
{
  "security_dashboard": {
    "overview": {
      "security_score": 85,
      "risk_level": "MEDIUM",
      "active_threats": 3,
      "compliance_status": "COMPLIANT"
    },
    "authentication": {
      "login_success_rate": 99.2,
      "mfa_adoption_rate": 95.8,
      "failed_login_attempts": 127,
      "locked_accounts": 2
    },
    "access_control": {
      "privileged_access_sessions": 45,
      "unauthorized_attempts": 8,
      "permission_violations": 1,
      "access_requests_pending": 12
    },
    "data_protection": {
      "encryption_coverage": 98.5,
      "sensitive_data_access": 1247,
      "data_masking_compliance": 96.2,
      "backup_success_rate": 100.0
    },
    "threat_detection": {
      "security_alerts": 23,
      "high_severity_alerts": 2,
      "false_positive_rate": 5.2,
      "mttr_minutes": 15
    },
    "compliance": {
      "gdpr_compliance": 98.7,
      "pci_compliance": 97.3,
      "sox_compliance": 99.1,
      "audit_findings": 0
    }
  }
}
```

### 9.2 ë³´ì•ˆ ë¦¬í¬íŒ…

#### ì›”ê°„ ë³´ì•ˆ ë³´ê³ ì„œ ìë™ ìƒì„±
```java
@Service
public class SecurityReportingService {
    
    @Scheduled(cron = "0 0 9 1 * *") // ë§¤ì›” 1ì¼ 9ì‹œ
    public void generateMonthlySecurityReport() {
        LocalDate reportMonth = LocalDate.now().minusMonths(1);
        
        SecurityReport report = SecurityReport.builder()
            .reportPeriod(reportMonth)
            .executiveSummary(generateExecutiveSummary(reportMonth))
            .threatLandscape(analyzeThreatLandscape(reportMonth))
            .incidentSummary(summarizeIncidents(reportMonth))
            .complianceStatus(assessComplianceStatus(reportMonth))
            .riskAssessment(conductRiskAssessment(reportMonth))
            .recommendations(generateRecommendations(reportMonth))
            .build();
        
        // PDF ìƒì„±
        byte[] reportPdf = reportGenerator.generatePDF(report);
        
        // ì´ë©”ì¼ ë°œì†¡
        emailService.sendSecurityReport(getRecipients(), reportPdf);
        
        // ì•„ì¹´ì´ë¸Œ ì €ì¥
        documentArchiveService.archive(report, reportPdf);
    }
    
    private ExecutiveSummary generateExecutiveSummary(LocalDate month) {
        return ExecutiveSummary.builder()
            .overallSecurityPosture("ì–‘í˜¸")
            .keyMetrics(Map.of(
                "ë³´ì•ˆì‚¬ê³ ", "0ê±´",
                "ì·¨ì•½ì ë°œê²¬", "3ê±´ (ëª¨ë‘ í•´ê²°ì™„ë£Œ)",
                "ì»´í”Œë¼ì´ì–¸ìŠ¤ì¤€ìˆ˜ìœ¨", "99.2%",
                "ë³´ì•ˆêµìœ¡ì´ìˆ˜ìœ¨", "96.8%"
            ))
            .criticalIssues(getCriticalIssues(month))
            .achievements(getSecurityAchievements(month))
            .build();
    }
}
```

---

## ğŸ¯ 10. êµ¬í˜„ ë¡œë“œë§µ ë° ìš°ì„ ìˆœìœ„

### 10.1 ë³´ì•ˆ êµ¬í˜„ ë‹¨ê³„

#### Phase 1: ê¸°ë³¸ ë³´ì•ˆ (Month 1-2)
```
ìš°ì„ ìˆœìœ„: ğŸ”´ Critical

âœ… êµ¬í˜„ í•­ëª©:
â”œâ”€â”€ ê¸°ë³¸ ì¸ì¦/ì¸ê°€ (JWT, RBAC)
â”œâ”€â”€ HTTPS/TLS ì ìš©
â”œâ”€â”€ ì…ë ¥ ê²€ì¦ ë° XSS ë°©ì§€
â”œâ”€â”€ SQL ì¸ì ì…˜ ë°©ì§€
â”œâ”€â”€ ê¸°ë³¸ ê°ì‚¬ ë¡œê¹…
â”œâ”€â”€ ë¹„ë°€ë²ˆí˜¸ ì •ì±…
â””â”€â”€ ë„¤íŠ¸ì›Œí¬ ë°©í™”ë²½ ì„¤ì •

ğŸ¯ ëª©í‘œ:
- ê¸°ë³¸ì ì¸ ë³´ì•ˆ ìœ„í˜‘ìœ¼ë¡œë¶€í„° ë³´í˜¸
- ê°œë°œ/í…ŒìŠ¤íŠ¸ í™˜ê²½ ë³´ì•ˆ í™•ë³´
- ê¸°ë³¸ ì»´í”Œë¼ì´ì–¸ìŠ¤ ìš”êµ¬ì‚¬í•­ ì¶©ì¡±
```

#### Phase 2: ê³ ë„í™” ë³´ì•ˆ (Month 2-4)  
```
ìš°ì„ ìˆœìœ„: ğŸŸ¡ High

âœ… êµ¬í˜„ í•­ëª©:
â”œâ”€â”€ ë‹¤ë‹¨ê³„ ì¸ì¦ (MFA)
â”œâ”€â”€ ë°ì´í„° ì•”í˜¸í™” (ì €ì¥/ì „ì†¡)
â”œâ”€â”€ ë™ì  ë°ì´í„° ë§ˆìŠ¤í‚¹
â”œâ”€â”€ ìƒì„¸ ê°ì‚¬ ë¡œê¹…
â”œâ”€â”€ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
â”œâ”€â”€ ì·¨ì•½ì  ìŠ¤ìºë‹
â”œâ”€â”€ ì¹¨ì… íƒì§€/ë°©ì§€ ì‹œìŠ¤í…œ
â””â”€â”€ ë³´ì•ˆ ì •ì±… ê´€ë¦¬

ğŸ¯ ëª©í‘œ:
- ê°œì¸ì •ë³´ ë° ì¤‘ìš”ì •ë³´ ë³´í˜¸ ê°•í™”
- ë‚´ë¶€ ìœ„í˜‘ íƒì§€ ëŠ¥ë ¥ í™•ë³´
- ì‹¤ì‹œê°„ ë³´ì•ˆ ëª¨ë‹ˆí„°ë§ êµ¬ì¶•
```

#### Phase 3: ì§€ëŠ¥í˜• ë³´ì•ˆ (Month 4-6)
```
ìš°ì„ ìˆœìœ„: ğŸŸ¢ Medium

âœ… êµ¬í˜„ í•­ëª©:
â”œâ”€â”€ AI ê¸°ë°˜ ì´ìƒ í–‰ìœ„ íƒì§€
â”œâ”€â”€ ê³ ê¸‰ ìœ„í˜‘ ë¶„ì„
â”œâ”€â”€ ìë™í™”ëœ ì‚¬ê³  ëŒ€ì‘
â”œâ”€â”€ ì˜ˆì¸¡ì  ë³´ì•ˆ ë¶„ì„
â”œâ”€â”€ í†µí•© ë³´ì•ˆ ê´€ì œ
â”œâ”€â”€ ê³ ë„í™”ëœ ì•”í˜¸í™”
â”œâ”€â”€ ì œë¡œ íŠ¸ëŸ¬ìŠ¤íŠ¸ ì•„í‚¤í…ì²˜
â””â”€â”€ ë³´ì•ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜

ğŸ¯ ëª©í‘œ:
- ì§€ëŠ¥í˜• ìœ„í˜‘ ëŒ€ì‘ ëŠ¥ë ¥ í™•ë³´
- ì˜ˆë°©ì  ë³´ì•ˆ ì²´ê³„ êµ¬ì¶•
- ìë™í™”ëœ ë³´ì•ˆ ìš´ì˜ ì‹¤í˜„
```

### 10.2 ë³´ì•ˆ íˆ¬ì ê³„íš

#### ì˜ˆì‚° ë°°ë¶„
```yaml
security_investment:
  total_budget: "100M KRW"
  
  by_category:
    infrastructure: 
      budget: "40M KRW"
      items: ["ë°©í™”ë²½", "IDS/IPS", "HSM", "ë°±ì—…ì‹œìŠ¤í…œ"]
      
    software_tools:
      budget: "25M KRW" 
      items: ["SIEM", "ì·¨ì•½ì ìŠ¤ìºë„ˆ", "ì•”í˜¸í™”ì†”ë£¨ì…˜", "DLP"]
      
    consulting_services:
      budget: "20M KRW"
      items: ["ë³´ì•ˆì»¨ì„¤íŒ…", "ì¹¨íˆ¬í…ŒìŠ¤íŠ¸", "ë³´ì•ˆê°ì‚¬"]
      
    training_certification:
      budget: "10M KRW"
      items: ["ë³´ì•ˆêµìœ¡", "ì¸ì¦ì·¨ë“", "ë³´ì•ˆì„¸ë¯¸ë‚˜"]
      
    compliance:
      budget: "5M KRW"
      items: ["ê·œì œëŒ€ì‘", "ì¸ì¦ì‹¬ì‚¬", "ë²•ë¥ ìë¬¸"]
```

---

## ğŸ“‹ ë¶€ë¡

### A. ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸

#### ê°œë°œ ë‹¨ê³„ ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸
```markdown
## ì„¤ê³„ ë‹¨ê³„
- [ ] ìœ„í˜‘ ëª¨ë¸ë§ ì™„ë£Œ
- [ ] ë³´ì•ˆ ìš”êµ¬ì‚¬í•­ ì •ì˜
- [ ] ë°ì´í„° ë¶„ë¥˜ ë° ë³´í˜¸ ì •ì±… ìˆ˜ë¦½
- [ ] ì ‘ê·¼ ì œì–´ ì„¤ê³„

## ê°œë°œ ë‹¨ê³„  
- [ ] ë³´ì•ˆ ì½”ë”© ê°€ì´ë“œë¼ì¸ ì¤€ìˆ˜
- [ ] ì…ë ¥ ê²€ì¦ êµ¬í˜„
- [ ] ì¶œë ¥ ì¸ì½”ë”© êµ¬í˜„
- [ ] ì¸ì¦/ì¸ê°€ êµ¬í˜„
- [ ] ì•”í˜¸í™” êµ¬í˜„
- [ ] ë¡œê¹… êµ¬í˜„

## í…ŒìŠ¤íŠ¸ ë‹¨ê³„
- [ ] SAST ê²€ì‚¬ í†µê³¼
- [ ] DAST ê²€ì‚¬ í†µê³¼
- [ ] ì˜ì¡´ì„± ì·¨ì•½ì  ê²€ì‚¬
- [ ] ë³´ì•ˆ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì‹¤í–‰
- [ ] ì¹¨íˆ¬ í…ŒìŠ¤íŠ¸ ìˆ˜í–‰

## ë°°í¬ ë‹¨ê³„
- [ ] ë³´ì•ˆ ì„¤ì • ê²€ì¦
- [ ] ì¸ì¦ì„œ ìœ íš¨ì„± í™•ì¸
- [ ] ë°©í™”ë²½ ê·œì¹™ ì„¤ì •
- [ ] ëª¨ë‹ˆí„°ë§ ì„¤ì •
- [ ] ë°±ì—… ì„¤ì • í™•ì¸
```

### B. ë³´ì•ˆ ì‚¬ê³  ëŒ€ì‘ ì—°ë½ì²˜

```yaml
incident_response_contacts:
  
  internal:
    ciso: 
      name: "ìµœë³´ì•ˆ"
      phone: "010-1234-5678"
      email: "ciso@kbanknow.com"
      
    it_manager:
      name: "ê¹€ê¸°ìˆ "  
      phone: "010-2345-6789"
      email: "it.manager@kbanknow.com"
      
    legal_counsel:
      name: "ë°•ë²•ë¬´"
      phone: "010-3456-7890" 
      email: "legal@kbanknow.com"
      
  external:
    incident_response_vendor:
      company: "ì‚¬ì´ë²„ë³´ì•ˆ ì „ë¬¸ì—…ì²´"
      contact: "1588-1234"
      contract: "ì—°ê°„ ìœ ì§€ë³´ìˆ˜ ê³„ì•½"
      
    law_enforcement:
      agency: "ì‚¬ì´ë²„ìˆ˜ì‚¬ëŒ€"
      contact: "182"
      
    regulatory:
      fss: "ê¸ˆìœµê°ë…ì›"
      contact: "02-3145-5114"
```

### C. ë³´ì•ˆ ì •ì±… ë¬¸ì„œ ëª©ë¡

```markdown
## í•„ìˆ˜ ë³´ì•ˆ ì •ì±… ë¬¸ì„œ

1. **ì •ë³´ë³´í˜¸ ê¸°ë³¸ ì •ì±…**
   - ì •ë³´ë³´í˜¸ ì¡°ì§ ë° ì±…ì„
   - ì •ë³´ìì‚° ê´€ë¦¬
   - ìœ„í—˜ ê´€ë¦¬

2. **ì ‘ê·¼ ì œì–´ ì •ì±…**  
   - ì‚¬ìš©ì ê³„ì • ê´€ë¦¬
   - ê¶Œí•œ ë¶€ì—¬ ë° íšŒìˆ˜
   - íŠ¹ê¶Œ ê³„ì • ê´€ë¦¬

3. **ê°œì¸ì •ë³´ë³´í˜¸ ì •ì±…**
   - ê°œì¸ì •ë³´ ìˆ˜ì§‘/ì´ìš©/ì œê³µ
   - ê°œì¸ì •ë³´ ë³´í˜¸ì¡°ì¹˜
   - ê°œì¸ì •ë³´ íŒŒê¸°

4. **ì‹œìŠ¤í…œ ë³´ì•ˆ ì •ì±…**
   - ì‹œìŠ¤í…œ ì ‘ê·¼ í†µì œ
   - ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ
   - ì•…ì„±ì½”ë“œ ëŒ€ì‘

5. **ì‚¬ê³  ëŒ€ì‘ ì •ì±…**
   - ì‚¬ê³  ì‹ ê³  ì²´ê³„
   - ëŒ€ì‘ ì ˆì°¨
   - ë³µêµ¬ ê³„íš

6. **ì™¸ë¶€ì ë³´ì•ˆ ì •ì±…**
   - í˜‘ë ¥ì—…ì²´ ë³´ì•ˆ ê´€ë¦¬
   - ì™¸ë¶€ì ì ‘ê·¼ í†µì œ
   - ë³´ì•ˆ ì„œì•½ì„œ
```

---

## ğŸ¯ ê²°ë¡ 

ë³¸ ë³´ì•ˆ ë° ì»´í”Œë¼ì´ì–¸ìŠ¤ ì„¤ê³„ì„œëŠ” ì¼€ì´ë±…í¬ ë°ì´í„°ê´€ë¦¬ ì†”ë£¨ì…˜ì˜ ì „ë°©ìœ„ ë³´ì•ˆ ì²´ê³„ë¥¼ ì œì‹œí•©ë‹ˆë‹¤.

### í•µì‹¬ ì„±ê³¼ ëª©í‘œ
- **ë³´ì•ˆ ì‚¬ê³  ì œë¡œ**: ì¤‘ëŒ€í•œ ë³´ì•ˆ ì‚¬ê³  ë°œìƒ ë°©ì§€
- **ì»´í”Œë¼ì´ì–¸ìŠ¤ 100% ì¤€ìˆ˜**: ëª¨ë“  ê¸ˆìœµê¶Œ ê·œì œ ì™„ì „ ì¤€ìˆ˜  
- **ê°œì¸ì •ë³´ë³´í˜¸ ê°•í™”**: GDPR ë° ê°œì¸ì •ë³´ë³´í˜¸ë²• ì™„ì „ ëŒ€ì‘
- **ìœ„í˜‘ ëŒ€ì‘ ì‹œê°„ ë‹¨ì¶•**: í‰ê·  ëŒ€ì‘ ì‹œê°„ 15ë¶„ ì´ë‚´

### ì§€ì†ì  ê°œì„ 
ì´ ì„¤ê³„ì„œëŠ” ë³€í™”í•˜ëŠ” ìœ„í˜‘ í™˜ê²½ê³¼ ê·œì œ ìš”êµ¬ì‚¬í•­ì— ë§ì¶° ì§€ì†ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë  ì˜ˆì •ì…ë‹ˆë‹¤.

---

**ë¬¸ì„œ ìŠ¹ì¸**

| ì—­í•  | ì´ë¦„ | ìŠ¹ì¸ì¼ | ì„œëª… |
|------|------|--------|------|
| CISO | [ ] | 2025-11-25 | [ ] |
| ë³´ì•ˆíŒ€ì¥ | [ ] | | [ ] |
| IT ê°ì‚¬íŒ€ì¥ | [ ] | | [ ] |
| ë²•ë¬´íŒ€ì¥ | [ ] | | [ ] |
| í”„ë¡œì íŠ¸ ë§¤ë‹ˆì € | [ ] | | [ ] |

**ì°¨ê¸° ê²€í†  ì˜ˆì •ì¼**: 2025-12-25  
**ë¬¸ì„œ ë¶„ë¥˜**: ëŒ€ì™¸ë¹„ (ì‚¬ë‚´ ë³´ì•ˆ ë‹´ë‹¹ìë§Œ ì—´ëŒ ê°€ëŠ¥)